---
import Layout from '../layouts/Layout.astro';
import BlogEntry from '../components/BlogEntry.astro';

// Blog posts data - in a real app this would come from a CMS or file system
const blogPosts = [
  {
    title: "Tendencias en Diseño Instruccional Digital",
    excerpt: "Reflexión profesional sobre las tendencias que realmente importan en el diseño instruccional digital, más allá de la moda tecnológica. Del contenido centrado en el experto a la arquitectura de experiencias que transforman genuinamente el aprendizaje.",
    date: "2024-02-15",
    readTime: "5 min",
    category: "Educación Virtual",
    author: "Alex Baudelino García",
    image: "https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=600&h=300&fit=crop",
    slug: "tendencias-en-diseno-instruccional-digital",
    featured: true
  },
  {
    title: "Neurociencia Aplicada a la Educación",
    excerpt: "Reflexión crítica sobre el uso responsable de hallazgos neurocientíficos en el diseño instruccional. Más allá de los neuromitos: cómo integrar evidencia neurocognitiva de manera ética y metodológicamente sana en la formación virtual.",
    date: "2024-02-10",
    readTime: "4 min",
    category: "Neurociencia",
    author: "Alex Baudelino García",
    image: "https://images.unsplash.com/photo-1559757148-5c350d0d3c56?w=600&h=300&fit=crop",
    slug: "neurociencia-aplicada-a-la-educacion",
    featured: false
  }
];

// Get unique categories for filtering
const categories = [...new Set(blogPosts.map(post => post.category))];
---

<Layout title="Blog | Alex Baudelino García" description="Reflexiones y artículos sobre diseño instruccional, neurociencia educativa y tendencias en e-learning">
  <main class="min-h-screen py-20 px-4 bg-gradient-to-br from-slate-50 to-blue-50">
    <div class="container mx-auto max-w-6xl">
      <!-- Header mejorado -->
      <header class="mb-12">
        <!-- Navegación -->
        <nav class="mb-8">
          <a 
            href="/" 
            class="group inline-flex items-center px-4 py-2 text-blue-700 bg-white/80 backdrop-blur-sm rounded-xl hover:bg-white hover:shadow-lg transition-all duration-300"
          >
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 mr-2 transform group-hover:-translate-x-1 transition-transform duration-300" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M9.707 16.707a1 1 0 01-1.414 0l-6-6a1 1 0 010-1.414l6-6a1 1 0 011.414 1.414L5.414 9H17a1 1 0 110 2H5.414l4.293 4.293a1 1 0 010 1.414z" clip-rule="evenodd"></path>
            </svg>
            <span class="font-medium">Volver al Inicio</span>
          </a>
        </nav>

        <!-- Título y descripción -->
        <div class="bg-white/80 backdrop-blur-lg rounded-2xl p-8 md:p-12 shadow-xl border border-white/20 text-center">
          <div class="max-w-4xl mx-auto">
            <!-- Badge de blog -->
            <div class="mb-6">
              <span class="inline-flex items-center px-4 py-2 bg-gradient-to-r from-blue-600 to-blue-700 text-white rounded-full text-sm font-medium shadow-lg">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M12.316 3.051a1 1 0 01.633 1.265l-4 12a1 1 0 11-1.898-.632l4-12a1 1 0 011.265-.633zM5.707 6.293a1 1 0 010 1.414L3.414 10l2.293 2.293a1 1 0 11-1.414 1.414l-3-3a1 1 0 010-1.414l3-3a1 1 0 011.414 0zm8.586 0a1 1 0 011.414 0l3 3a1 1 0 010 1.414l-3 3a1 1 0 11-1.414-1.414L16.586 10l-2.293-2.293a1 1 0 010-1.414z" clip-rule="evenodd"/>
                </svg>
                Blog Profesional
              </span>
            </div>

            <!-- Título principal -->
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 leading-tight">
              Reflexiones sobre
              <span class="bg-gradient-to-r from-blue-600 to-blue-700 bg-clip-text text-transparent">
                Diseño Instruccional
              </span>
            </h1>

            <!-- Descripción -->
            <p class="text-xl text-gray-600 leading-relaxed mb-8 max-w-3xl mx-auto">
              Exploro las tendencias, metodologías y evidencias que realmente transforman la educación digital. 
              Desde la neurociencia educativa hasta las mejores prácticas en e-learning.
            </p>

            <!-- Estadísticas del blog -->
            <div class="flex flex-wrap justify-center gap-8 text-center">
              <div class="flex items-center gap-2 text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M2 5a2 2 0 012-2h8a2 2 0 012 2v10a2 2 0 002 2H4a2 2 0 01-2-2V5zm3 1h6v4H5V6zm6 6H5v2h6v-2z" clip-rule="evenodd"/>
                  <path d="M15 7h1a2 2 0 012 2v5.5a1.5 1.5 0 01-3 0V9a1 1 0 00-1-1h-1v3a2 2 0 11-4 0V7.5A1.5 1.5 0 0110.5 6H15v1z"/>
                </svg>
                <span class="font-medium">{blogPosts.length} Artículos</span>
              </div>
              <div class="flex items-center gap-2 text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M17.707 9.293a1 1 0 010 1.414l-7 7a1 1 0 01-1.414 0l-7-7A.997.997 0 012 10V5a3 3 0 013-3h5c.256 0 .512.098.707.293l7 7zM5 6a1 1 0 100-2 1 1 0 000 2z" clip-rule="evenodd"/>
                </svg>
                <span class="font-medium">{categories.length} Categorías</span>
              </div>
              <div class="flex items-center gap-2 text-gray-600">
                <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
                  <path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z" clip-rule="evenodd"/>
                </svg>
                <span class="font-medium">Actualizado regularmente</span>
              </div>
            </div>
          </div>
        </div>
      </header>

      <!-- Filtro de categorías mejorado -->
      <div class="bg-white/80 backdrop-blur-lg rounded-2xl p-6 shadow-xl border border-white/20 mb-8">
        <div class="flex flex-col gap-4">
          <div class="flex items-center gap-3">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-blue-600" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd" d="M3 3a1 1 0 011-1h12a1 1 0 011 1v3a1 1 0 01-.293.707L12 11.414V15a1 1 0 01-.293.707l-2 2A1 1 0 018 17v-5.586L3.293 6.707A1 1 0 013 6V3z" clip-rule="evenodd"/>
            </svg>
            <h3 class="text-lg font-semibold text-gray-800">Filtrar por categoría</h3>
          </div>
          <div class="flex flex-wrap gap-3">
            <button 
              class="category-filter active px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105"
              data-category="all"
            >
              Todos los artículos
            </button>
            {categories.map((category) => (
              <button 
                class="category-filter px-4 py-2 rounded-full text-sm font-medium transition-all duration-200 hover:scale-105"
                data-category={category}
              >
                {category}
              </button>
            ))}
          </div>
        </div>
      </div>

      <!-- Blog Posts Grid -->
      <div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3" id="blogGrid">
        {blogPosts.map((post) => (
          <div class="blog-post-wrapper" data-category={post.category}>
            <BlogEntry
              title={post.title}
              excerpt={post.excerpt}
              date={post.date}
              readTime={post.readTime}
              category={post.category}
              author={post.author}
              image={post.image}
              slug={post.slug}
              featured={post.featured}
            />
          </div>
        ))}
      </div>

      <!-- Estado vacío mejorado -->
      <div id="emptyState" class="hidden text-center py-12">
        <div class="bg-white/80 backdrop-blur-lg rounded-2xl p-8 shadow-xl border border-white/20">
          <div class="w-16 h-16 bg-blue-100 rounded-full flex items-center justify-center mx-auto mb-4">
            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8 text-blue-600" fill="none" viewBox="0 0 24 24" stroke="currentColor">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.172 16.172a4 4 0 015.656 0M9 12h6m-6-4h6m2 5.291A7.962 7.962 0 0112 20c-2.22 0-4.24-.908-5.69-2.375"/>
            </svg>
          </div>
          <h3 class="text-xl font-semibold text-gray-800 mb-2">No hay artículos en esta categoría</h3>
          <p class="text-gray-600 mb-4">Prueba con otra categoría o vuelve a ver todos los artículos.</p>
          <button 
            class="category-filter px-4 py-2 bg-blue-600 text-white rounded-full hover:bg-blue-700 transition-colors"
            data-category="all"
          >
            Ver todos los artículos
          </button>
        </div>
      </div>
    </div>
  </main>
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const categoryButtons = document.querySelectorAll('.category-filter');
    const blogPosts = document.querySelectorAll('.blog-post-wrapper');
    const emptyState = document.getElementById('emptyState');

    categoryButtons.forEach(button => {
      button.addEventListener('click', () => {
        const category = button.getAttribute('data-category');
        
        // Update active button
        categoryButtons.forEach(btn => btn.classList.remove('active'));
        button.classList.add('active');
        
        // Filter posts
        let visibleCount = 0;
        blogPosts.forEach(post => {
          const postCategory = post.getAttribute('data-category');
          const htmlPost = post as HTMLElement;
          
          if (category === 'all' || postCategory === category) {
            htmlPost.style.display = 'block';
            visibleCount++;
          } else {
            htmlPost.style.display = 'none';
          }
        });
        
        // Show/hide empty state
        if (visibleCount === 0) {
          emptyState?.classList.remove('hidden');
        } else {
          emptyState?.classList.add('hidden');
        }
      });
    });
  });
</script>

<style>
  /* Estilos para filtros de categoría */
  .category-filter {
    @apply bg-gray-100 text-gray-700 border border-gray-200 hover:bg-gray-200 hover:text-gray-800;
  }
  
  .category-filter.active {
    @apply bg-gradient-to-r from-blue-600 to-blue-700 text-white border-blue-600 shadow-lg;
  }
  
  /* Animaciones para las tarjetas de blog */
  .blog-post-wrapper {
    transition: all 0.3s ease;
  }
  
  .blog-post-wrapper:hover {
    transform: translateY(-4px);
  }

  /* Efectos de aparición suaves */
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  .blog-post-wrapper {
    animation: fadeIn 0.6s ease-out;
  }

  .blog-post-wrapper:nth-child(1) { animation-delay: 0.1s; }
  .blog-post-wrapper:nth-child(2) { animation-delay: 0.2s; }
  .blog-post-wrapper:nth-child(3) { animation-delay: 0.3s; }
  .blog-post-wrapper:nth-child(4) { animation-delay: 0.4s; }
  .blog-post-wrapper:nth-child(5) { animation-delay: 0.5s; }
  .blog-post-wrapper:nth-child(6) { animation-delay: 0.6s; }

  /* Gradiente de texto para el título */
  .gradient-text {
    background: linear-gradient(135deg, #2563eb, #1d4ed8);
    background-clip: text;
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }

  /* Mejoras responsivas */
  @media (max-width: 768px) {
    .category-filter {
      @apply text-xs px-3 py-1.5;
    }
  }
</style>
</Layout>
